{"remainingRequest":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\src\\components\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\src\\components\\Menu.vue","mtime":1599567828885},{"path":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\1.PartitionD\\Work\\6.VuejsWorkShop\\FEBootcamp Vue\\cuddly-octo-pizza\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgIGRhdGEoKXsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGJhc2tldFRleHQgOiAnWW91ciBiYXNrZXQgaXMgZW1wdHkhJywNCiAgICAgICAgICAgIGJhc2tldDogW10sDQogICAgICAgICAgICBtZW51SXRlbXM6IFtdDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIHRvdGFsKCkgew0KICAgICAgICAgICAgICAgIHZhciB0b3RhbENvc3QgPSAwOw0KICAgICAgICAgICAgICAgIGZvciggdmFyIGl0ZW0gaW4gdGhpcy5iYXNrZXQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGl2aWR1YWxJdGVtID0gdGhpcy5iYXNrZXRbaXRlbV07DQogICAgICAgICAgICAgICAgICAgIHRvdGFsQ29zdCArPSBpbmRpdmlkdWFsSXRlbS5xdWFudGl0eSAqIGluZGl2aWR1YWxJdGVtLnByaWNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gdG90YWxDb3N0Ow0KICAgICAgICAgICAgfQ0KDQogICAgfSwNCiAgICBtZXRob2RzIDogew0KICAgICAgICAgYWRkVG9CYXNrZXQoaXRlbSwgb3B0aW9uKXsNCiAgICAgICAgICAgICAgICB0aGlzLmJhc2tldC5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICBzaXplOiBvcHRpb24uc2l6ZSwNCiAgICAgICAgICAgICAgICAgICAgcHJpY2U6IG9wdGlvbi5wcmljZSwNCiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6IDENCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJlbW92ZUZyb21CYXNrZXQoaXRlbSl7DQogICAgICAgICAgICAgICAgdGhpcy5iYXNrZXQuc3BsaWNlKHRoaXMuYmFza2V0LmluZGV4T2YoaXRlbSksIDEpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRlY3JlYXNlUXVhbnRpdHkoaXRlbSkgew0KICAgICAgICAgICAgICAgIGl0ZW0ucXVhbnRpdHktLTsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5xdWFudGl0eSA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJvbUJhc2tldChpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgaW5jcmVhc2VRdWFudGl0eShpdGVtKSB7DQogICAgICAgICAgICAgICAgaXRlbS5xdWFudGl0eSsrOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGFkZE5ld09yZGVyKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuYmFza2V0ID0gW10NCiAgICAgICAgICAgICAgICB0aGlzLmJhc2tldFRleHQgPSAiVGhhbmsgeW91LCB5b3VyIG9yZGVyIGhhcyBiZWVuIHBsYWNlZCAhIDopIg0KICAgICAgICAgICAgfQ0KDQogICAgfSwNCiAgICBjcmVhdGVkOiBmdW5jdGlvbigpIHsNCiAgICAgICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9tZW51SXRlbXMiKQ0KICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKQ0KICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiAodGhpcy5tZW51SXRlbXMgPSBkYXRhKSk7DQogICAgfQ0KfQ0K"},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Menu.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div class=\"flex-container\">\r\n    <div class=\"flex-item\">\r\n        <div class=\"col-sm-12 col-md-6\">\r\n            <table class=\"table table-hover\">\r\n                <thead class=\"thead-default\">\r\n                    <tr>\r\n                        <th>Size</th>\r\n                        <th>Price</th>\r\n                        <th>Add to basket</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody v-for=\"item in menuItems\" :key=\"item['.key']\">\r\n                    <tr>\r\n                        <td><strong>{{ item.name }}</strong></td>\r\n                    </tr>\r\n                    <tr v-for=\"option in item.options\" :key=\"option['.key']\">\r\n                        <td>{{ option.size }}</td>\r\n                        <td>{{ option.price | currency}}</td>\r\n                        <td><button class=\"btn btn-sm btn-outline-success\" \r\n                                    type=\"button\"\r\n                                    @click=\"addToBasket(item, option)\">+</button></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>      \r\n    </div>  \r\n      <div class=\"flex-item\">\r\n            <div v-if=\"basket.length > 0\">\r\n                <table class=\"table\">\r\n                    <thead class=\"thead-default\">\r\n                        <tr>\r\n                            <th>Quantity</th>\r\n                            <th>Item</th>\r\n                            <th>Total</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody v-for=\"item in basket\" :key=\"item['.key']\">\r\n                        <tr>\r\n                            <td>\r\n                                <button class=\"btn btn-sm btn-outline-success\" \r\n                                        type=\"button\"\r\n                                        @click=\"decreaseQuantity(item)\">-</button>\r\n                                <span>{{ item.quantity }}</span>\r\n                                <button class=\"btn btn-sm btn-outline-success\" \r\n                                        type=\"button\"\r\n                                        @click=\"increaseQuantity(item)\">+</button>\r\n                            </td>\r\n                            <td>{{item.name}} {{item.size}}</td>\r\n                            <td>{{ item.price * item.quantity | currency }}</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <p>Order total: {{ total | currency }}</p>\r\n                <button class=\"btn btn-success btn-block\" @click=\"addNewOrder\">Place Order</button>\r\n            </div>\r\n            <div v-else>\r\n                <p>{{ basketText }}</p> \r\n                <!-- = <p>{{ this.$store.state.orders }}</p> -->\r\n            </div>  \r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n     data(){\r\n        return {\r\n            basketText : 'Your basket is empty!',\r\n            basket: [],\r\n            menuItems: []\r\n        }\r\n    },\r\n    computed: {\r\n        total() {\r\n                var totalCost = 0;\r\n                for( var item in this.basket) {\r\n                    var individualItem = this.basket[item];\r\n                    totalCost += individualItem.quantity * individualItem.price;\r\n                }\r\n                return totalCost;\r\n            }\r\n\r\n    },\r\n    methods : {\r\n         addToBasket(item, option){\r\n                this.basket.push({\r\n                    name: item.name,\r\n                    size: option.size,\r\n                    price: option.price,\r\n                    quantity: 1\r\n                })\r\n            },\r\n            removeFromBasket(item){\r\n                this.basket.splice(this.basket.indexOf(item), 1);\r\n            },\r\n            decreaseQuantity(item) {\r\n                item.quantity--;\r\n                if (item.quantity == 0) {\r\n                    this.removeFromBasket(item);\r\n                }\r\n            },\r\n            increaseQuantity(item) {\r\n                item.quantity++;\r\n            },\r\n            addNewOrder() {\r\n                this.basket = []\r\n                this.basketText = \"Thank you, your order has been placed ! :)\"\r\n            }\r\n\r\n    },\r\n    created: function() {\r\n        fetch(\"http://localhost:3000/menuItems\")\r\n            .then(response => response.json())\r\n            .then(data => (this.menuItems = data));\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .flex-container {\r\n        display: flex;\r\n        flex-direction:column;\r\n}\r\n    .flex-item {\r\n        padding: 1%;\r\n        font-weight: bold;\r\n        text-align: center;\r\n        }\r\n</style>"]}]}